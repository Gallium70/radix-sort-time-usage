# 基数选取对基数排序时间的影响 演示代码

本项目旨在演示在基数排序中，不同的基数大小对总排序时间的影响。

## 简介

考虑对 $N=2\times10^8$ 个32位无符号整数排序，限制在单一线程完成，从渐近复杂度的角度考虑，应当选择基数排序以减少算法运行时间。

基数越大，需要进行的排序轮数越少，渐近复杂度越低；但内层计数排序所用的计数数组空间也随之增大，对其访问时发生cache miss的概率也相应增加，访问延迟增大，总运行时间增加。由于对计数数组的访问较为随机（由待排序数据的随机性决定），难以通过硬件数据预取等方式进行优化，唯一的方法就是调整基数大小，使得计数数组尽可能能够完整装入L1缓存中；同时又要尽可能降低循环次数。综合二者考虑，选择256或2048作为基数时，排序总时间较低。

原始题目出处见 [LibreOJ #2286.「WC2017」挑战](https://loj.ac/p/2286) 任务一，本项目使用了和其模板程序相同的数据生成方法，即给定一个伪随机数生成器，输入初始种子和数据数量，生成待排序的数据。这样可以避免从硬盘中读取大量数据消耗的时间。

## 编译指令

`g++ radix_sort.cc -o radix_sort -Wall -Wextra -O2 -lm -fpermissive -static -std=c++11`

## 文件内容

- [radix_sort.cc](radix_sort.cc): 源代码
- [radix_sort_time.csv](radix_sort_time.csv): 不同基数下的总排序时间和每轮排序消耗的时间

## 注意事项

程序运行时会申请最多6GB的内存，请确保你的目标平台能够承受这一空间需求，或手动修改[radix_sort.cc](radix_sort.cc)第90行的循环终止条件。

算法运行时间受诸多因素影响，即使在同一平台上也无法确保两次运行结果相同，数据仅供参考。
